schema: '2.0'
stages:
  make_dataset:
    cmd: python ./src/data/make_dataset.py /data/raw
    deps:
    - path: ./src/data/make_dataset.py
      hash: md5
      md5: c897b98c6230b30f647f86ae83f33158
      size: 1414
    outs:
    - path: ./data/raw/raw.csv
      hash: md5
      md5: 04eeb2b73cbfbbb4a534113af3f5b3a4
      size: 3728209
  data_transformation:
    cmd: python ./src/data/data_transformation.py /data
    deps:
    - path: ./data/raw/raw.csv
      hash: md5
      md5: 04eeb2b73cbfbbb4a534113af3f5b3a4
      size: 3728209
    - path: ./src/data/make_dataset.py
      hash: md5
      md5: c897b98c6230b30f647f86ae83f33158
      size: 1414
    params:
      params.yaml:
        data_transformation.seed: 45
        data_transformation.split_dataset_size: 0.33
    outs:
    - path: ./data/interim/preprocess_testdata.csv
      hash: md5
      md5: ce8cf78d16fba810fb9b96eed7dcdc2d
      size: 185932
    - path: ./data/interim/preprocess_traindata.csv
      hash: md5
      md5: 21601068db6e6a24b5ce41fb07cde982
      size: 376325
  build_features:
    cmd: python ./src/features/build_features.py /data
    deps:
    - path: ./data/interim/preprocess_testdata.csv
      hash: md5
      md5: ce8cf78d16fba810fb9b96eed7dcdc2d
      size: 185932
    - path: ./data/interim/preprocess_traindata.csv
      hash: md5
      md5: 21601068db6e6a24b5ce41fb07cde982
      size: 376325
    - path: ./src/features/build_features.py
      hash: md5
      md5: 24ee5c5c47bcd93820452731ae6d4e3e
      size: 3501
    params:
      params.yaml:
        build_features.max_features: 2800
    outs:
    - path: ./data/processed/processed_testdata.csv
      hash: md5
      md5: fafcbce60630755820c49de501b2ad1c
      size: 38694236
    - path: ./data/processed/processed_traindata.csv
      hash: md5
      md5: d6eebc49b3b4caa23b294cabaad57165
      size: 78559816
    - path: ./models/vectorizer.pkl
      hash: md5
      md5: 1076e9011d49bddf816916ee64a8ef5c
      size: 99966
  train_model:
    cmd: python ./src/models/train_model.py /data/processed
    deps:
    - path: ./data/processed/processed_traindata.csv
      hash: md5
      md5: d6eebc49b3b4caa23b294cabaad57165
      size: 78559816
    - path: ./src/models/train_model.py
      hash: md5
      md5: d0341c4f23d537e45ed596f3ee5aea87
      size: 2388
    params:
      params.yaml:
        train_model.C: 1
        train_model.penalty: l2
        train_model.solver: liblinear
    outs:
    - path: ./models/model.pkl
      hash: md5
      md5: ee29a0ffc72938a528c294111cdc2bb7
      size: 41707
  predict_model:
    cmd: python ./src/models/predict_model.py /data/processed
    deps:
    - path: ./data/processed/processed_testdata.csv
      hash: md5
      md5: bf6775b22a55749e39ded63e192d0061
      size: 27722881
    - path: ./models/model.pkl
      hash: md5
      md5: cb3528c9c1710bb4718fdfff2fa5f1af
      size: 29705
    - path: ./src/models/predict_model.py
      hash: md5
      md5: 431160d9af1d88b1288105fe539ae7d7
      size: 5739
    outs:
    - path: ./reports/metrics.json
      hash: md5
      md5: 6128df6df4d1b4f7e832c948d58d7639
      size: 145
    - path: ./reports/model_experiment_info.json
      hash: md5
      md5: ddf7e180b835a2595f7f85eef42a0b25
      size: 83
  register_model:
    cmd: python ./src/models/register_model.py
    deps:
    - path: ./reports/model_experiment_info.json
      hash: md5
      md5: ddf7e180b835a2595f7f85eef42a0b25
      size: 83
    - path: ./src/models/register_model.py
      hash: md5
      md5: e045f67b5ebe15bb34a2e78773aa7fed
      size: 2814
