schema: '2.0'
stages:
  make_dataset:
    cmd: python ./src/data/make_dataset.py /data/raw
    deps:
    - path: ./src/data/make_dataset.py
      hash: md5
      md5: de097e66aa2e77cb6a305a5c59b6108d
      size: 1459
    outs:
    - path: ./data/raw/raw.csv
      hash: md5
      md5: 378e50a49c97277f1841a684687c2020
      size: 3768210
  data_transformation:
    cmd: python ./src/data/data_transformation.py /data
    deps:
    - path: ./data/raw/raw.csv
      hash: md5
      md5: 378e50a49c97277f1841a684687c2020
      size: 3768210
    - path: ./src/data/make_dataset.py
      hash: md5
      md5: de097e66aa2e77cb6a305a5c59b6108d
      size: 1459
    params:
      params.yaml:
        data_transformation.seed: 45
        data_transformation.split_dataset_size: 0.33
    outs:
    - path: ./data/interim/preprocess_testdata.csv
      hash: md5
      md5: 24211be392ffa035514a67912df5ae20
      size: 189301
    - path: ./data/interim/preprocess_traindata.csv
      hash: md5
      md5: ed5e51d491a10d15f784f4c3ce84a13a
      size: 383185
  build_features:
    cmd: python ./src/features/build_features.py /data
    deps:
    - path: ./data/interim/preprocess_testdata.csv
      hash: md5
      md5: 24211be392ffa035514a67912df5ae20
      size: 189301
    - path: ./data/interim/preprocess_traindata.csv
      hash: md5
      md5: ed5e51d491a10d15f784f4c3ce84a13a
      size: 383185
    - path: ./src/features/build_features.py
      hash: md5
      md5: 5bc71ba4b91372a79f61b14045ecb840
      size: 3593
    params:
      params.yaml:
        build_features.max_features: 2000
    outs:
    - path: ./data/processed/processed_testdata.csv
      hash: md5
      md5: bf6775b22a55749e39ded63e192d0061
      size: 27722881
    - path: ./data/processed/processed_traindata.csv
      hash: md5
      md5: 99b6c054541868a82cb9c4b5e6752190
      size: 56288342
    - path: ./models/vectorizer.pkl
      hash: md5
      md5: dae6a46267b4ddb647aa054374f59363
      size: 63291
  train_model:
    cmd: python ./src/models/train_model.py /data/processed
    deps:
    - path: ./data/processed/processed_traindata.csv
      hash: md5
      md5: 99b6c054541868a82cb9c4b5e6752190
      size: 56288342
    - path: ./src/models/train_model.py
      hash: md5
      md5: 4035bf0ec59d75b32ea2ffa7d8bfa6b0
      size: 2459
    params:
      params.yaml:
        train_model.C: 1
        train_model.penalty: l2
        train_model.solver: liblinear
    outs:
    - path: ./models/model.pkl
      hash: md5
      md5: cb3528c9c1710bb4718fdfff2fa5f1af
      size: 29705
  predict_model:
    cmd: python ./src/models/predict_model.py /data/processed
    deps:
    - path: ./data/processed/processed_testdata.csv
      hash: md5
      md5: bf6775b22a55749e39ded63e192d0061
      size: 27722881
    - path: ./models/model.pkl
      hash: md5
      md5: cb3528c9c1710bb4718fdfff2fa5f1af
      size: 29705
    - path: ./src/models/predict_model.py
      hash: md5
      md5: 431160d9af1d88b1288105fe539ae7d7
      size: 5739
    outs:
    - path: ./reports/metrics.json
      hash: md5
      md5: 6128df6df4d1b4f7e832c948d58d7639
      size: 145
    - path: ./reports/model_experiment_info.json
      hash: md5
      md5: ddf7e180b835a2595f7f85eef42a0b25
      size: 83
  register_model:
    cmd: python ./src/models/register_model.py
    deps:
    - path: ./reports/model_experiment_info.json
      hash: md5
      md5: ddf7e180b835a2595f7f85eef42a0b25
      size: 83
    - path: ./src/models/register_model.py
      hash: md5
      md5: e045f67b5ebe15bb34a2e78773aa7fed
      size: 2814
